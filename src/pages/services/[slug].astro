---
// src/pages/services/[slug].astro
import BaseHead from '@/components/BaseHead.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import { projectData } from '@/data/projects.js';

// Required for dynamic routes
export async function getStaticPaths() {
  return Object.keys(projectData).map((slug) => ({
    params: { slug }
  }));
}

// Get the slug from the URL and find the matching project
const { slug } = Astro.params;
const project = projectData[slug];

if (!project) {
  throw new Error(`No project found for slug: ${slug}`);
}
---

<html lang="en">
  <head>
    <BaseHead title={project.title} />
  </head>
  <body>
    <Header />
    <main style="max-width: 800px; margin: 2rem auto; padding: 1rem;">
      <h1>{project.title}</h1>
      <p>{project.content}</p>
      <a href="/services/" style="display: inline-block; margin-top: 1rem; color: #007acc;">‚Üê Back to all services</a>
    </main>
    <Footer />
  </body>
</html>
